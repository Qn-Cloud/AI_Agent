# AI è§’è‰²æ‰®æ¼”è¯­éŸ³äº¤äº’äº§å“ - å‰ç«¯æ„å»ºæ–¹æ¡ˆ

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 äº§å“å®šä½
åŸºäºAIè§’è‰²æ‰®æ¼”å’Œè¯­éŸ³äº¤äº’çš„æ™ºèƒ½å¯¹è¯äº§å“ï¼Œæ”¯æŒç”¨æˆ·ä¸é¢„è®¾æˆ–è‡ªå®šä¹‰AIè§’è‰²è¿›è¡Œå®æ—¶è¯­éŸ³å¯¹è¯ï¼Œæä¾›æ²‰æµ¸å¼çš„è§’è‰²æ‰®æ¼”ä½“éªŒã€‚

### 1.2 æ ¸å¿ƒåŠŸèƒ½
- **è§’è‰²æœç´¢ä¸é€‰æ‹©**ï¼šæ”¯æŒå“ˆåˆ©æ³¢ç‰¹ã€è‹æ ¼æ‹‰åº•ç­‰é¢„è®¾è§’è‰²
- **å®æ—¶è¯­éŸ³äº¤äº’**ï¼šASRè¯­éŸ³è¾“å…¥ + TTSè¯­éŸ³è¾“å‡º
- **è§’è‰²è®¾å®šé¢æ¿**ï¼šè‡ªå®šä¹‰Prompté¢æ¿ï¼Œå¾®è°ƒè§’è‰²äººè®¾
- **å¯¹è¯å†å²ç®¡ç†**ï¼šå®Œæ•´çš„å¯¹è¯è®°å½•ä¸ç®¡ç†åŠŸèƒ½

## 2. æŠ€æœ¯é€‰å‹

### 2.1 å‰ç«¯æ¡†æ¶é€‰æ‹©ï¼šVue 3 + Vite
**é€‰æ‹©ç†ç”±ï¼š**
- **å­¦ä¹ æ›²çº¿å¹³ç¼“**ï¼šVue 3è¯­æ³•ç®€æ´ï¼Œé€‚åˆå¿«é€Ÿå¼€å‘
- **ç”Ÿæ€å®Œå–„**ï¼šä¸°å¯Œçš„UIç»„ä»¶åº“å’Œæ’ä»¶ç”Ÿæ€
- **Viteæ„å»ºå·¥å…·**ï¼šå¿«é€Ÿçš„çƒ­æ›´æ–°å’Œæ„å»ºé€Ÿåº¦
- **Composition API**ï¼šæ›´å¥½çš„é€»è¾‘å¤ç”¨å’Œç±»å‹æ”¯æŒ

### 2.2 UIæ¡†æ¶ï¼šElement Plus
**é€‰æ‹©ç†ç”±ï¼š**
- ç»„ä»¶ä¸°å¯Œï¼Œæ»¡è¶³è§’è‰²å¡ç‰‡ã€æœç´¢ã€å¯¹è¯ç­‰ç•Œé¢éœ€æ±‚
- æ–‡æ¡£å®Œå–„ï¼Œå¼€å‘æ•ˆç‡é«˜
- æ”¯æŒä¸»é¢˜å®šåˆ¶ï¼Œç¬¦åˆäº§å“è§†è§‰éœ€æ±‚
- å†…ç½®å›½é™…åŒ–æ”¯æŒ

### 2.3 çŠ¶æ€ç®¡ç†ï¼šPinia
**é€‰æ‹©ç†ç”±ï¼š**
- Vue 3å®˜æ–¹æ¨èçŠ¶æ€ç®¡ç†æ–¹æ¡ˆ
- TypeScriptå‹å¥½
- è½»é‡çº§ï¼ŒAPIç®€æ´
- é€‚åˆç®¡ç†è§’è‰²ä¿¡æ¯ã€å¯¹è¯çŠ¶æ€ç­‰

### 2.4 è¯­éŸ³æŠ€æœ¯é›†æˆ
**ASRï¼ˆè¯­éŸ³è¯†åˆ«ï¼‰ï¼š**
- **Web Speech API**ï¼ˆæµè§ˆå™¨åŸç”Ÿï¼‰
- **å¤‡é€‰æ–¹æ¡ˆ**ï¼šç™¾åº¦AIã€è…¾è®¯äº‘ã€é˜¿é‡Œäº‘è¯­éŸ³æœåŠ¡

**TTSï¼ˆè¯­éŸ³åˆæˆï¼‰ï¼š**
- **Web Speech API**ï¼ˆSpeechSynthesisï¼‰
- **å¤‡é€‰æ–¹æ¡ˆ**ï¼šAzure Cognitive Servicesã€è®¯é£å¼€æ”¾å¹³å°

### 2.5 å…¶ä»–æŠ€æœ¯æ ˆ
- **HTTPå®¢æˆ·ç«¯**ï¼šAxios
- **è·¯ç”±ç®¡ç†**ï¼šVue Router 4
- **CSSé¢„å¤„ç†å™¨**ï¼šSCSS
- **ç±»å‹æ£€æŸ¥**ï¼šTypeScript
- **ä»£ç è§„èŒƒ**ï¼šESLint + Prettier
- **æ‰“åŒ…å·¥å…·**ï¼šVite

## 3. é¡¹ç›®æ¶æ„è®¾è®¡

### 3.1 ç›®å½•ç»“æ„
```
frontend/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ favicon.ico
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/           # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ icons/
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ CharacterCard/    # è§’è‰²å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ VoiceChat/        # è¯­éŸ³å¯¹è¯
â”‚   â”‚   â”œâ”€â”€ SearchBar/        # æœç´¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ChatHistory/      # å¯¹è¯å†å²
â”‚   â”œâ”€â”€ views/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home/             # é¦–é¡µ-è§’è‰²é€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ Chat/             # å¯¹è¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Settings/         # è§’è‰²è®¾å®š
â”‚   â”‚   â””â”€â”€ History/          # å†å²è®°å½•
â”‚   â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ character.js      # è§’è‰²ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ chat.js           # å¯¹è¯ç®¡ç†
â”‚   â”‚   â””â”€â”€ user.js           # ç”¨æˆ·è®¾ç½®
â”‚   â”œâ”€â”€ services/         # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ api.js            # HTTPè¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ speech.js         # è¯­éŸ³æœåŠ¡
â”‚   â”‚   â””â”€â”€ ai.js             # AIæ¥å£
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ audio.js          # éŸ³é¢‘å¤„ç†
â”‚   â”‚   â”œâ”€â”€ storage.js        # æœ¬åœ°å­˜å‚¨
â”‚   â”‚   â””â”€â”€ helpers.js        # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ App.vue           # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js           # å…¥å£æ–‡ä»¶
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â””â”€â”€ README.md
```

### 3.2 æ ¸å¿ƒæ¨¡å—è®¾è®¡

#### 3.2.1 è§’è‰²ç®¡ç†æ¨¡å—
```javascript
// stores/character.js
export const useCharacterStore = defineStore('character', {
  state: () => ({
    characters: [],        // é¢„è®¾è§’è‰²åˆ—è¡¨
    currentCharacter: null, // å½“å‰é€‰ä¸­è§’è‰²
    customPrompts: []      // è‡ªå®šä¹‰æç¤ºè¯
  }),
  actions: {
    fetchCharacters(),     // è·å–è§’è‰²åˆ—è¡¨
    selectCharacter(),     // é€‰æ‹©è§’è‰²
    updatePrompt()         // æ›´æ–°è§’è‰²è®¾å®š
  }
})
```

#### 3.2.2 è¯­éŸ³äº¤äº’æ¨¡å—
```javascript
// services/speech.js
class SpeechService {
  // è¯­éŸ³è¯†åˆ«
  startListening()
  stopListening()
  
  // è¯­éŸ³åˆæˆ
  speak(text, voice)
  stopSpeaking()
  
  // è¯­éŸ³æ§åˆ¶
  toggleMute()
  setVolume()
}
```

#### 3.2.3 å¯¹è¯ç®¡ç†æ¨¡å—
```javascript
// stores/chat.js
export const useChatStore = defineStore('chat', {
  state: () => ({
    conversations: [],     // å¯¹è¯å†å²
    currentConversation: null,
    isRecording: false,    // å½•éŸ³çŠ¶æ€
    isSpeaking: false      // æ’­æ”¾çŠ¶æ€
  })
})
```

## 4. ç•Œé¢è®¾è®¡ä¸ç”¨æˆ·ä½“éªŒ

### 4.1 ä¸»è¦é¡µé¢è®¾è®¡

#### 4.1.1 è§’è‰²é€‰æ‹©é¡µé¢ï¼ˆHomeï¼‰
**å¸ƒå±€ç‰¹ç‚¹ï¼š**
- ç½‘æ ¼å¸ƒå±€å±•ç¤ºè§’è‰²å¡ç‰‡ï¼Œæ”¯æŒåˆ†ç±»ç­›é€‰
- æœç´¢æ¡†æ”¯æŒè§’è‰²åç§°å’Œç‰¹å¾æœç´¢
- å¡ç‰‡æ˜¾ç¤ºè§’è‰²å¤´åƒã€åç§°ã€ç®€ä»‹å’Œæ ‡ç­¾
- æ”¯æŒæ”¶è—å’Œæœ€è¿‘ä½¿ç”¨æ’åº

**äº¤äº’è®¾è®¡ï¼š**
- æ‚¬åœæ•ˆæœæ˜¾ç¤ºè§’è‰²è¯¦ç»†ä¿¡æ¯
- ç‚¹å‡»è¿›å…¥è§’è‰²è¯¦æƒ…/å¯¹è¯é¡µé¢
- æ”¯æŒé”®ç›˜å¿«æ·é”®æ“ä½œ

#### 4.1.2 å¯¹è¯é¡µé¢ï¼ˆChatï¼‰
**å¸ƒå±€ç‰¹ç‚¹ï¼š**
- å·¦ä¾§ï¼šè§’è‰²ä¿¡æ¯é¢æ¿ï¼ˆå¯æ”¶ç¼©ï¼‰
- ä¸­é—´ï¼šå¯¹è¯åŒºåŸŸï¼ˆæ°”æ³¡æ ·å¼ï¼‰
- å³ä¾§ï¼šåŠŸèƒ½æ§åˆ¶é¢æ¿
- åº•éƒ¨ï¼šè¯­éŸ³è¾“å…¥æ§åˆ¶åŒº

**æ ¸å¿ƒåŠŸèƒ½åŒºåŸŸï¼š**
- **è¯­éŸ³æ§åˆ¶åŒº**ï¼šå½•éŸ³æŒ‰é’®ã€æ³¢å½¢æ˜¾ç¤ºã€éŸ³é‡æ§åˆ¶
- **å¯¹è¯æ˜¾ç¤ºåŒº**ï¼šç”¨æˆ·/AIæ¶ˆæ¯æ°”æ³¡ã€æ—¶é—´æˆ³ã€çŠ¶æ€æŒ‡ç¤º
- **å¿«æ·æ“ä½œ**ï¼šé‡æ–°ç”Ÿæˆã€å¤åˆ¶ã€åˆ†äº«ã€æ¸…ç©ºå¯¹è¯

#### 4.1.3 è§’è‰²è®¾å®šé¡µé¢ï¼ˆSettingsï¼‰
**åŠŸèƒ½æ¨¡å—ï¼š**
- **åŸºç¡€ä¿¡æ¯**ï¼šè§’è‰²åç§°ã€å¤´åƒã€èƒŒæ™¯è®¾å®š
- **æ€§æ ¼è®¾å®š**ï¼šæ»‘å—è°ƒèŠ‚æ€§æ ¼ç‰¹å¾ï¼ˆå‹å–„åº¦ã€å¹½é»˜æ„Ÿç­‰ï¼‰
- **å¯¹è¯é£æ ¼**ï¼šæ­£å¼/éšæ„ã€ç®€æ´/è¯¦ç»†ç­‰é€‰é¡¹
- **è‡ªå®šä¹‰Prompt**ï¼šé«˜çº§ç”¨æˆ·è‡ªå®šä¹‰æç¤ºè¯ç¼–è¾‘å™¨

#### 4.1.4 å†å²è®°å½•é¡µé¢ï¼ˆHistoryï¼‰
**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- æŒ‰æ—¶é—´/è§’è‰²åˆ†ç»„æ˜¾ç¤ºå¯¹è¯å†å²
- æ”¯æŒæœç´¢å’Œç­›é€‰åŠŸèƒ½
- å¯¼å‡ºå¯¹è¯è®°å½•
- åˆ é™¤å’Œç®¡ç†åŠŸèƒ½

### 4.2 å“åº”å¼è®¾è®¡
- **æ¡Œé¢ç«¯ï¼ˆ>1200pxï¼‰**ï¼šå®Œæ•´åŠŸèƒ½å¸ƒå±€
- **å¹³æ¿ç«¯ï¼ˆ768-1200pxï¼‰**ï¼šä¾§è¾¹æ å¯æ”¶ç¼©
- **ç§»åŠ¨ç«¯ï¼ˆ<768pxï¼‰**ï¼šå•é¡µé¢æ˜¾ç¤ºï¼Œåº•éƒ¨å¯¼èˆª

## 5. æ ¸å¿ƒåŠŸèƒ½å®ç°æ–¹æ¡ˆ

### 5.1 è§’è‰²æœç´¢ä¸é€‰æ‹©

#### 5.1.1 æœç´¢åŠŸèƒ½
```javascript
// æœç´¢ç®—æ³•å®ç°
const searchCharacters = (query, characters) => {
  return characters.filter(character => {
    // åç§°åŒ¹é…
    const nameMatch = character.name.toLowerCase().includes(query.toLowerCase())
    // æ ‡ç­¾åŒ¹é…
    const tagMatch = character.tags.some(tag => tag.includes(query))
    // æè¿°åŒ¹é…ï¼ˆæ¨¡ç³Šæœç´¢ï¼‰
    const descMatch = character.description.toLowerCase().includes(query.toLowerCase())
    
    return nameMatch || tagMatch || descMatch
  }).sort((a, b) => {
    // ç›¸å…³åº¦æ’åº
    return calculateRelevance(b, query) - calculateRelevance(a, query)
  })
}
```

#### 5.1.2 è§’è‰²å¡ç‰‡ç»„ä»¶
```vue
<!-- CharacterCard.vue -->
<template>
  <div class="character-card" @click="selectCharacter">
    <div class="avatar-section">
      <img :src="character.avatar" :alt="character.name" />
      <div class="status-indicator" :class="character.status"></div>
    </div>
    <div class="info-section">
      <h3>{{ character.name }}</h3>
      <p class="description">{{ character.description }}</p>
      <div class="tags">
        <span v-for="tag in character.tags" :key="tag" class="tag">
          {{ tag }}
        </span>
      </div>
    </div>
    <div class="action-section">
      <el-button type="primary" size="small">å¼€å§‹å¯¹è¯</el-button>
      <el-button type="text" size="small" @click.stop="toggleFavorite">
        <i :class="isFavorite ? 'el-icon-star-on' : 'el-icon-star-off'"></i>
      </el-button>
    </div>
  </div>
</template>
```

### 5.2 è¯­éŸ³äº¤äº’å®ç°

#### 5.2.1 è¯­éŸ³è¯†åˆ«ï¼ˆASRï¼‰
```javascript
// services/speechRecognition.js
class SpeechRecognition {
  constructor() {
    this.recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)()
    this.setupRecognition()
  }
  
  setupRecognition() {
    this.recognition.continuous = true
    this.recognition.interimResults = true
    this.recognition.lang = 'zh-CN'
    
    this.recognition.onresult = (event) => {
      let transcript = ''
      for (let i = event.resultIndex; i < event.results.length; i++) {
        transcript += event.results[i][0].transcript
      }
      this.onTranscript?.(transcript, event.results[event.resultIndex].isFinal)
    }
    
    this.recognition.onerror = (event) => {
      this.onError?.(event.error)
    }
  }
  
  start() {
    this.recognition.start()
  }
  
  stop() {
    this.recognition.stop()
  }
}
```

#### 5.2.2 è¯­éŸ³åˆæˆï¼ˆTTSï¼‰
```javascript
// services/speechSynthesis.js
class SpeechSynthesis {
  constructor() {
    this.synth = window.speechSynthesis
    this.voices = []
    this.loadVoices()
  }
  
  loadVoices() {
    this.voices = this.synth.getVoices()
    // é€‰æ‹©åˆé€‚çš„ä¸­æ–‡è¯­éŸ³
    this.defaultVoice = this.voices.find(voice => 
      voice.lang.includes('zh') || voice.lang.includes('cn')
    )
  }
  
  speak(text, options = {}) {
    const utterance = new SpeechSynthesisUtterance(text)
    utterance.voice = options.voice || this.defaultVoice
    utterance.rate = options.rate || 1
    utterance.pitch = options.pitch || 1
    utterance.volume = options.volume || 1
    
    utterance.onstart = () => this.onStart?.()
    utterance.onend = () => this.onEnd?.()
    utterance.onerror = (event) => this.onError?.(event)
    
    this.synth.speak(utterance)
  }
  
  stop() {
    this.synth.cancel()
  }
}
```

#### 5.2.3 è¯­éŸ³æ§åˆ¶ç»„ä»¶
```vue
<!-- VoiceController.vue -->
<template>
  <div class="voice-controller">
    <div class="voice-input">
      <button 
        class="record-btn"
        :class="{ active: isRecording }"
        @mousedown="startRecording"
        @mouseup="stopRecording"
        @touchstart="startRecording"
        @touchend="stopRecording"
      >
        <i class="icon-microphone"></i>
        <span>{{ recordButtonText }}</span>
      </button>
      
      <!-- è¯­éŸ³æ³¢å½¢æ˜¾ç¤º -->
      <div v-if="isRecording" class="wave-form">
        <div 
          v-for="i in 20" 
          :key="i" 
          class="wave-bar"
          :style="{ height: waveData[i] + '%' }"
        ></div>
      </div>
      
      <!-- è¯†åˆ«ç»“æœæ˜¾ç¤º -->
      <div v-if="transcript" class="transcript">
        {{ transcript }}
      </div>
    </div>
    
    <div class="voice-output">
      <button 
        class="speak-btn"
        :disabled="!lastMessage || isSpeaking"
        @click="speakLastMessage"
      >
        <i class="icon-speaker"></i>
        <span>{{ isSpeaking ? 'æ’­æ”¾ä¸­...' : 'é‡æ’­' }}</span>
      </button>
      
      <!-- éŸ³é‡æ§åˆ¶ -->
      <el-slider
        v-model="volume"
        :min="0"
        :max="100"
        @change="updateVolume"
        class="volume-slider"
      >
        <template #button>
          <i class="icon-volume"></i>
        </template>
      </el-slider>
    </div>
  </div>
</template>
```

### 5.3 å¯¹è¯å†å²ç®¡ç†

#### 5.3.1 æ•°æ®ç»“æ„è®¾è®¡
```javascript
// å¯¹è¯è®°å½•æ•°æ®ç»“æ„
const conversationSchema = {
  id: String,           // å¯¹è¯ID
  characterId: String,  // è§’è‰²ID
  title: String,        // å¯¹è¯æ ‡é¢˜
  startTime: Date,      // å¼€å§‹æ—¶é—´
  lastUpdate: Date,     // æœ€åæ›´æ–°æ—¶é—´
  messages: [           // æ¶ˆæ¯åˆ—è¡¨
    {
      id: String,
      type: 'user' | 'ai',
      content: String,
      timestamp: Date,
      audioUrl: String,  // è¯­éŸ³æ–‡ä»¶URLï¼ˆå¯é€‰ï¼‰
      metadata: Object   // é¢å¤–ä¿¡æ¯
    }
  ],
  settings: {           // å¯¹è¯è®¾ç½®
    characterPrompt: String,
    voiceSettings: Object
  }
}
```

#### 5.3.2 æœ¬åœ°å­˜å‚¨å®ç°
```javascript
// utils/storage.js
class ConversationStorage {
  constructor() {
    this.storageKey = 'ai_chat_conversations'
  }
  
  // ä¿å­˜å¯¹è¯
  saveConversation(conversation) {
    const conversations = this.getAllConversations()
    const index = conversations.findIndex(c => c.id === conversation.id)
    
    if (index >= 0) {
      conversations[index] = conversation
    } else {
      conversations.push(conversation)
    }
    
    localStorage.setItem(this.storageKey, JSON.stringify(conversations))
  }
  
  // è·å–æ‰€æœ‰å¯¹è¯
  getAllConversations() {
    const data = localStorage.getItem(this.storageKey)
    return data ? JSON.parse(data) : []
  }
  
  // åˆ é™¤å¯¹è¯
  deleteConversation(conversationId) {
    const conversations = this.getAllConversations()
    const filtered = conversations.filter(c => c.id !== conversationId)
    localStorage.setItem(this.storageKey, JSON.stringify(filtered))
  }
  
  // æœç´¢å¯¹è¯
  searchConversations(query) {
    const conversations = this.getAllConversations()
    return conversations.filter(conversation => {
      const titleMatch = conversation.title.includes(query)
      const contentMatch = conversation.messages.some(msg => 
        msg.content.includes(query)
      )
      return titleMatch || contentMatch
    })
  }
}
```

### 5.4 è§’è‰²è®¾å®šé¢æ¿

#### 5.4.1 Promptç¼–è¾‘å™¨ç»„ä»¶
```vue
<!-- PromptEditor.vue -->
<template>
  <div class="prompt-editor">
    <div class="preset-section">
      <h4>é¢„è®¾æ¨¡æ¿</h4>
      <el-select v-model="selectedTemplate" @change="loadTemplate">
        <el-option
          v-for="template in templates"
          :key="template.id"
          :label="template.name"
          :value="template.id"
        />
      </el-select>
    </div>
    
    <div class="personality-sliders">
      <h4>æ€§æ ¼ç‰¹å¾</h4>
      <div v-for="trait in personalityTraits" :key="trait.key" class="trait-slider">
        <label>{{ trait.label }}</label>
        <el-slider
          v-model="personality[trait.key]"
          :min="0"
          :max="100"
          show-tooltip
          :format-tooltip="trait.formatter"
        />
      </div>
    </div>
    
    <div class="custom-prompt">
      <h4>è‡ªå®šä¹‰æç¤ºè¯</h4>
      <el-input
        v-model="customPrompt"
        type="textarea"
        :rows="6"
        placeholder="åœ¨è¿™é‡Œè¾“å…¥è‡ªå®šä¹‰çš„è§’è‰²è®¾å®š..."
        @input="updatePrompt"
      />
      
      <div class="prompt-tips">
        <h5>æç¤ºè¯å»ºè®®ï¼š</h5>
        <ul>
          <li>æ˜ç¡®è§’è‰²èº«ä»½å’ŒèƒŒæ™¯</li>
          <li>æè¿°è¯´è¯é£æ ¼å’Œç”¨è¯ä¹ æƒ¯</li>
          <li>è®¾å®šçŸ¥è¯†é¢†åŸŸå’Œå…´è¶£çˆ±å¥½</li>
          <li>å®šä¹‰äº¤äº’æ–¹å¼å’Œå›åº”æ¨¡å¼</li>
        </ul>
      </div>
    </div>
    
    <div class="preview-section">
      <h4>æ•ˆæœé¢„è§ˆ</h4>
      <div class="prompt-preview">
        {{ finalPrompt }}
      </div>
      <el-button @click="testPrompt">æµ‹è¯•æ•ˆæœ</el-button>
    </div>
  </div>
</template>
```

## 6. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 6.1 éŸ³é¢‘å¤„ç†ä¼˜åŒ–
- **éŸ³é¢‘å‹ç¼©**ï¼šä½¿ç”¨Web Audio APIå‹ç¼©éŸ³é¢‘æ•°æ®
- **æµå¼ä¼ è¾“**ï¼šæ”¯æŒéŸ³é¢‘æµå¼æ’­æ”¾ï¼Œå‡å°‘ç­‰å¾…æ—¶é—´
- **ç¼“å­˜ç­–ç•¥**ï¼šç¼“å­˜å¸¸ç”¨è¯­éŸ³åˆæˆç»“æœ
- **éŸ³é¢‘æ ¼å¼**ï¼šä½¿ç”¨WebMç­‰é«˜æ•ˆéŸ³é¢‘æ ¼å¼

### 6.2 ç•Œé¢æ€§èƒ½ä¼˜åŒ–
- **è™šæ‹Ÿæ»šåŠ¨**ï¼šå¯¹è¯å†å²é•¿åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
- **å›¾ç‰‡æ‡’åŠ è½½**ï¼šè§’è‰²å¤´åƒå’Œèµ„æºæ‡’åŠ è½½
- **ç»„ä»¶ç¼“å­˜**ï¼šä½¿ç”¨keep-aliveç¼“å­˜é¡µé¢çŠ¶æ€
- **ä»£ç åˆ†å‰²**ï¼šæŒ‰è·¯ç”±åˆ†å‰²ä»£ç ï¼Œå‡å°‘åˆå§‹åŠ è½½é‡

### 6.3 æ•°æ®ç®¡ç†ä¼˜åŒ–
- **åˆ†é¡µåŠ è½½**ï¼šå¯¹è¯å†å²åˆ†é¡µæŸ¥è¯¢
- **æœ¬åœ°ç¼“å­˜**ï¼šåˆç†ä½¿ç”¨localStorageå’ŒsessionStorage
- **æ•°æ®å‹ç¼©**ï¼šå¤§é‡æ•°æ®ä½¿ç”¨å‹ç¼©ç®—æ³•å­˜å‚¨
- **æ¸…ç†ç­–ç•¥**ï¼šå®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®

## 7. å®‰å…¨æ€§è€ƒè™‘

### 7.1 æ•°æ®å®‰å…¨
- **æœ¬åœ°å­˜å‚¨åŠ å¯†**ï¼šæ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
- **éšç§ä¿æŠ¤**ï¼šè¯­éŸ³æ•°æ®ä¸ä¸Šä¼ åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨
- **æ•°æ®æ¸…ç†**ï¼šæä¾›æ¸…é™¤æ‰€æœ‰æœ¬åœ°æ•°æ®çš„é€‰é¡¹

### 7.2 è¾“å…¥éªŒè¯
- **å†…å®¹è¿‡æ»¤**ï¼šè¿‡æ»¤ä¸å½“è¾“å…¥å†…å®¹
- **é•¿åº¦é™åˆ¶**ï¼šé™åˆ¶è¾“å…¥æ–‡æœ¬å’Œè¯­éŸ³é•¿åº¦
- **é¢‘ç‡é™åˆ¶**ï¼šé˜²æ­¢æ¶æ„é¢‘ç¹è¯·æ±‚

## 8. å¼€å‘ç¯å¢ƒé…ç½®

### 8.1 é¡¹ç›®åˆå§‹åŒ–
```bash
# åˆ›å»ºé¡¹ç›®
npm create vue@latest ai-roleplay-chat
cd ai-roleplay-chat

# å®‰è£…ä¾èµ–
npm install element-plus
npm install pinia
npm install axios
npm install @vueuse/core
npm install sass

# å¼€å‘ä¾èµ–
npm install -D @types/node
npm install -D eslint
npm install -D prettier
```

### 8.2 é…ç½®æ–‡ä»¶

#### vite.config.js
```javascript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { resolve } from 'path'

export default defineConfig({
  plugins: [vue()],
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src')
    }
  },
  server: {
    port: 3000,
    open: true
  },
  build: {
    outDir: 'dist',
    sourcemap: false,
    chunkSizeWarningLimit: 1500
  }
})
```

### 8.3 ESLintå’ŒPrettieré…ç½®
```javascript
// .eslintrc.js
module.exports = {
  env: {
    browser: true,
    es2021: true,
    node: true
  },
  extends: [
    'eslint:recommended',
    '@vue/eslint-config-typescript',
    '@vue/eslint-config-prettier'
  ],
  rules: {
    'no-console': process.env.NODE_ENV === 'production' ? 'warn' : 'off',
    'no-debugger': process.env.NODE_ENV === 'production' ? 'warn' : 'off'
  }
}
```

## 9. éƒ¨ç½²æ–¹æ¡ˆ

### 9.1 æ„å»ºä¼˜åŒ–
```bash
# ç”Ÿäº§ç¯å¢ƒæ„å»º
npm run build

# æ„å»ºåˆ†æ
npm install -D webpack-bundle-analyzer
npm run build:analyze
```

### 9.2 éƒ¨ç½²é€‰é¡¹
- **é™æ€éƒ¨ç½²**ï¼šNetlifyã€Vercelã€GitHub Pages
- **CDNéƒ¨ç½²**ï¼šé˜¿é‡Œäº‘OSSã€è…¾è®¯äº‘COS
- **æœåŠ¡å™¨éƒ¨ç½²**ï¼šNginx + Node.js

### 9.3 PWAæ”¯æŒ
- æ·»åŠ Service Workeræ”¯æŒç¦»çº¿ä½¿ç”¨
- Web App Manifesté…ç½®
- æ”¯æŒæ¡Œé¢å®‰è£…

## 10. æµ‹è¯•ç­–ç•¥

### 10.1 å•å…ƒæµ‹è¯•
- ä½¿ç”¨Vitestè¿›è¡Œç»„ä»¶å•å…ƒæµ‹è¯•
- æµ‹è¯•è¯­éŸ³åŠŸèƒ½çš„Mockå®ç°
- çŠ¶æ€ç®¡ç†é€»è¾‘æµ‹è¯•

### 10.2 é›†æˆæµ‹è¯•
- ä½¿ç”¨Cypressè¿›è¡ŒE2Eæµ‹è¯•
- è¯­éŸ³äº¤äº’æµç¨‹æµ‹è¯•
- è·¨æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•

### 10.3 æ€§èƒ½æµ‹è¯•
- ä½¿ç”¨Lighthouseè¿›è¡Œæ€§èƒ½è¯„ä¼°
- éŸ³é¢‘å»¶è¿Ÿæµ‹è¯•
- å†…å­˜ä½¿ç”¨ç›‘æ§

## 11. å‘å¸ƒè®¡åˆ’

### 11.1 MVPç‰ˆæœ¬ï¼ˆç¬¬ä¸€ç‰ˆï¼‰
- âœ… åŸºç¡€è§’è‰²é€‰æ‹©åŠŸèƒ½
- âœ… æ–‡å­—å¯¹è¯åŠŸèƒ½
- âœ… ç®€å•è¯­éŸ³è¾“å…¥è¾“å‡º
- âœ… åŸºç¡€å†å²è®°å½•

### 11.2 å¢å¼ºç‰ˆæœ¬ï¼ˆç¬¬äºŒç‰ˆï¼‰
- ğŸ”„ é«˜çº§è§’è‰²è‡ªå®šä¹‰
- ğŸ”„ è¯­éŸ³æƒ…æ„Ÿè¯†åˆ«
- ğŸ”„ å¤šè¯­è¨€æ”¯æŒ
- ğŸ”„ äº‘ç«¯åŒæ­¥

### 11.3 å®Œæ•´ç‰ˆæœ¬ï¼ˆç¬¬ä¸‰ç‰ˆï¼‰
- ğŸ“‹ AIè¯­éŸ³å…‹éš†
- ğŸ“‹ å®æ—¶è¯­éŸ³ç¿»è¯‘
- ğŸ“‹ è§’è‰²å¸‚åœº
- ğŸ“‹ ç¤¾äº¤åˆ†äº«åŠŸèƒ½

## 12. æ€»ç»“

æœ¬æ–¹æ¡ˆé‡‡ç”¨Vue 3 + Element Plusçš„æŠ€æœ¯æ ˆï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

1. **å¼€å‘æ•ˆç‡é«˜**ï¼šæˆç†Ÿçš„æŠ€æœ¯æ ˆå’Œä¸°å¯Œçš„ç»„ä»¶åº“
2. **ç”¨æˆ·ä½“éªŒå¥½**ï¼šæµç•…çš„è¯­éŸ³äº¤äº’å’Œç›´è§‚çš„ç•Œé¢è®¾è®¡
3. **å¯æ‰©å±•æ€§å¼º**ï¼šæ¨¡å—åŒ–è®¾è®¡ä¾¿äºåŠŸèƒ½æ‰©å±•
4. **ç»´æŠ¤æˆæœ¬ä½**ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œæ–‡æ¡£å®Œå–„

é€šè¿‡åˆç†çš„æ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹ï¼Œèƒ½å¤Ÿå¿«é€Ÿæ„å»ºå‡ºåŠŸèƒ½å®Œå–„ã€ä½“éªŒè‰¯å¥½çš„AIè§’è‰²æ‰®æ¼”è¯­éŸ³äº¤äº’äº§å“ã€‚

---

*æœ¬æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.0*  
*åˆ›å»ºæ—¥æœŸï¼š2025-09-23*  
*ä½œè€…ï¼šå‰ç«¯å¼€å‘å›¢é˜Ÿ*
